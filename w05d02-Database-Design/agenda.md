# Agenda 
- User Stories
- How to think of tables
- Tables
- Primary Keys
- Foreign Keys
- Naming Conventions
- Data Types
- Relationships
- General Design Concepts
- Breakout Exercise
- Take up Exercise ^
- BONUS -- show an IDE for database 

## TinyApp

when you store the urls/users, after a refresh of the server (on/off),
the data is gone
the data is in memory.

### User Stories

A description of a feature for an application.


```
as a __________________
I want to be able to 
_______________________
_______________________
because _______________
_______________________
_______________________
```

                                               urls
- as a user i want to be able to save a long url with a short url generated by
my app.
- as a user I want to create urls and assosiate them with my own account.

*** Tables are NOUNS ***

### ERD

Entity Relationship Diagram

a way to visually show how your database looks like !


### Table in SQL and Databases

- a place to store data
- data persistance
- organization

column names 
rows 

----------------------------------------------------
email,       password,      longURL,        shortURL
v@k.ca         1234       www.youtube.ca     fi90235
v@k.ca         1234       www.rbc.ca         t4305i90
v@k.ca         1234       www.td.ca           ggZ9i5
a@b.ca         1234       www.reddit.com      9S%f90
------------------------------------------------------

------------------------------------------------------
* Users *

id    email,       password,
1      v@k.ca         1234
2      a@b.ca         1234
------------------------------------------------------

-------------------------------------------------------
* Urls *

longURL             shortURL          user_id
www.youtube.ca     fi90235               1      
www.rbc.ca         t4305i90              1
www.td.ca           ggZ9i5               1
www.reddit.com      9S%f90               2
www.costco.ca       DF95f2               2
------------------------------------------------------


### Primary Keys

A primary key is a UNIQUE KEY that can never be duplicated in the table.

primary keys CAN BE ANY DATA TYPE

INT
STRING
ETC

primary keys should not be volatile 
(should be unchanged FOREVER)


### FOREIGN KEYS

a reference to a row data in another table
to connect multiple data that has split apart back together
Foreign keys MUST BE the same DATATYPE as the key that is being referenced

### Table Conventions of LHL

tables should be singular (user, url, restaraunt, item)
tables should be pluralized (users, urls, restaraunts, items, etc)

at lighthouse we use the pluralized approach
we pluralize every table 

if you have multiple words for a column name (line items, favorite book, etc)
make sure to use, `snake_case` syntax (line_items, favorite_books, user_id, etc)

column names should be singular UNLESS its a collection 
(array, objects, etc )


### Datatypes in SQL

INTEGERS (PK, FK, )
CHAR ( VARCHARS (0-255))
TEXT
BOOLEAN
DATE/ DATETIME (timestamp)
FLOAT
DECIMAL

### Performance 


MongoDB

nonrelational 
(a giant JSON object)
read speeds were amazing

Most columns search better with certain datatypes 

TEXT (unlimited amount of space) VS VARCHAR (0 - 255mb)
SMALL INT  vs INT vs BIG INT


80-90s

32 mb of space 
90s - 2000s

50gb you will never use that in a lifetime 

2002 pc computer 512mb of ram 
12 - 32gb 

if you need to store an email 

50-70 VARCHAR
phone numbers VARCHAR
etc


### Foreign key Types


### One to Many (very common)
One X has Many Y
One Y has One  X

### one to one (rare)

One X has One Y
One Y has One X


### Many to Many (very common, it cannot exist in psql...)

- a bridge table

a connection between table 1 and table 2 that have a many to many relationshi
it takes both foreign keys from table 1 and table 2 and puts it into the bridge table
changing the `many to many` to `one to many` and `many to one`.


 

# General Concepts

- Core Stories
- extra/stretch Stories

always start with core user storie when creating tables for your database.


### Aggregate functions

(SUM, AVG, COUNT, etc)

- NEVER STORE AGGREGATE VALUES IN YOUR DATABASE, ALWAYS CALCULATE THEM

### Constraints 

email <------- NOT NULL
password <---- NOT NULL
first_name <-- DEFAULT("")
last_name  <-- DEFAULT("")
age <-- DEFAULT(99)
phone_number <-- DEFAULT(000-000-000)
picture <-- DEFAULT("profile.png")
Address
Credit_card_info
etc...

### Deletions

* Urls *

longURL             shortURL          user_id            DELETED (default: false)
www.youtube.ca     fi90235               1                true
www.rbc.ca         t4305i90              1                false
www.td.ca           ggZ9i5               1                false
www.reddit.com      9S%f90               2                false
www.costco.ca       DF95f2               2                false
------------------------------------------------------
